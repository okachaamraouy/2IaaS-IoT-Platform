# A Novel Library for Connecting Davis Vantage Pro 2 Weather Stations to the Internet via Single Board Computers with Minimal Resources.
Meteorological stations are extensively used for gathering accurate Real-Time (RT) data, which is vital in smart and precision agriculture. 
This work aims to make Davis Vantage Pro2 (VP2) weather station data accessible in RT by creating a simple library for Single-Board Computers (SBCs) with operating systems based on Linux, 
regarding minimization of resources such as RAM, CPU, and power computing. This project aims to surpass the capabilities of the WeeWX weather system,
which is infeasible to implement on various types of SBCs with minimal resources. Moreover, WeeWX does not allow developers to configure it as needed manually.
This solution renders the VP2 weather station a flexible end device in the Internet of Things (IoT) networks. The library was developed as a novel weather station RT data acquisition, to facilitate communication with the VP2 console.
In this work, we will get into steps to implement the solution, including development modeling of the library to visualize and design our system, the practical realization of the proposed system, and a remote web application example to visualize VP2 weather station RT data.

The weather station is mainly used to measure and forecast weather conditions. However, they can also be used for private measurements, specifically in precision agriculture. In addition,
it is an important thing that helps farms of any size to manage their crop yield more efficiently, also collects meteorological and climatic conditions surrounding the farm to protect crops from frost damage or any other risks associated with adverse weather conditions, and provides data to make irrigation decisions. Nowadays, it is very necessary to set up weather stations in remote areas that will provide data in RT as part of collaborative resources for agricultural interventions and irrigation programs. Davis VP2 is one of the best high-quality
weather stations offering a wide range of options, and sensors that can be mounted separately from each other. It provides more accurate and reliable weather monitoring in the harshest environments, delivering RT data measurements, and is usually used in most scientific agriculture research. To facilitate the communication with VP2 console, there are free and open-source software programs that interact with various weather stations to produce charts, reports, and web pages, such as WeeWX, Cumulus MX, Wview, Pywws, etc. Among them, we find that WeeWX is the most successful, and widely used around the world because it gives the possibility to connect the VP2 console using a USB port or WiFi without problems. But when running this software on an SBC, many processes are running in the backend, which requires a large RAM memory, and a higher CPU clock speed, which increases energy consumption. In addition, to access weather data via WeeWX we are obligated to access the last record of the WeeWX SQLite database, which is not the appropriate solution for RT devices in IoT in general. We can also have data acquisition by WeatherLink software provided by Davis Instruments, which is only available for Windows, and version Mac, and transfer weather data to a Personal Computer (PC). Hence, developing this solution as part of Intelligent-Irrigation-as-a-Service (2IaaS) which recognizes the vast number of irrigation technologies that can be delivered as a remote access service, and the solution
provides extraction of all the data from the VP2 weather station via a simple program running on SBC, with the ability to use it freely in IoT architecture.

# Materials aspect
To build a robust and reliable meteo station for IoT applications, VP2 Integrated Sensor Suite (ISS) was used to collect outside weather data in RT, this unit includes outside humidity and temperature sensors protected by a passive radiation shield against solar radiation and other sources of radiated and reflected heat, rain gauge smart sensor, anemometer as a single package for wind speed and direction measurements, UV index sensor to measure global solar UV irradiance by measuring the sunburning portion of the UV spectrum, and Solar Radiation sensors to measure solar radiation for evapotranspiration and THSW index. Also, other sensors provided by Davis Instruments can be added easily, and separately from each other, such
as a leaf wetness sensor, soil moisture sensor, and sonic anemometer to measure wind direction and speed with no moving parts using sonic pulses to detect air movement, stainless steel temperature probe with Registered Jack (RJ) connector or two-wire termination, etc. The other unit includes a VP2 console equipped with an indoor temperature and humidity sensor, and a barometric pressure sensor to measure atmospheric pressure. The outside weather data is sent to a VP2 console using a specific cable by Davis Instruments to ensure that weather data is delivered to a console continuously without corruption, which offers the best high accuracy and reliable weather monitoring in RT data updates every 2 seconds. In addition, a third
component is required, such as WeatherLink Serial-Port Data Logger to connect the VP2 console to SBC using serial communication. The built-in library developed allows SBC to access RT weather data measurements, and send them to the cloud and Network Attached Storage (NAS) server simultaneously as shown in Figure 1.

![figure1](https://github.com/okachaamraouy/2IaaS_Blockchain-Based-IoT-Platform/assets/75426884/f74c492f-80a5-4e8a-916a-21671bf57f41)

